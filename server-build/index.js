!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("styled-components")},function(e,t){e.exports=require("@babel/runtime/regenerator")},function(e,t){e.exports=require("redux-saga/effects")},function(e,t){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("@babel/runtime/helpers/taggedTemplateLiteral")},function(e,t){e.exports=require("styled-reset")},function(e,t){e.exports=require("@babel/runtime/helpers/slicedToArray")},function(e,t){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,t){e.exports=require("redux-saga")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("isomorphic-unfetch")},function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(4),o=n.n(i),c=(n(16),n(17),n(0)),s=n.n(c),u=n(6),l=n.n(u),p=n(9),f=n.n(p),d=n(1),m=n.n(d),g=n(10),h=n.n(g),b=n(11),y=n.n(b),x=(n(18),n(12)),E=n.n(x),v=m.a.header.withConfig({displayName:"Header__Wrapper"})(["background:#ff6600;"]),w=m.a.a.withConfig({displayName:"Header__BrandIcon"})(["color:#fff;border:1px solid #fff;padding:3px 5px;display:inline-block;margin:5px;text-decoration:none;font-size:0.9rem;"]),_=m.a.a.withConfig({displayName:"Header__SkipLink"})(["color:#1f1414;margin:0 20px;padding:4px;font-size:12px;"]),O=function(){return s.a.createElement(v,null,s.a.createElement(w,{href:"#"},"Y"),s.a.createElement(_,{href:"#main"},"New"))},N=(n(19),n(5)),S=n(13),j=n.n(S),C=m.a.p.withConfig({displayName:"ListItem__CommentsElement"})(["display:inline-block;text-align:center;"]),k=m.a.span.withConfig({displayName:"ListItem__UpVoteButton"})(["display:inline-block;height:20px;width:20px;font-size:20px;line-height:0px;text-align:center;vertical-align:top;"]),T=m.a.div.withConfig({displayName:"ListItem__ItemContainer"})(["display:grid;grid-template-columns:0.15fr 0.06fr 1fr;"]),q=m.a.span.withConfig({displayName:"ListItem__LightText"})(["opacity:0.7;font-size:0.7rem;margin:0 4px;font-weight:700;"]),L=m.a.span.withConfig({displayName:"ListItem__HideButton"})(["font-size:0.8rem;cursor:pointer;"]),D=function(e){var t=e.data,n=[],r=Object(c.useState)(!0),a=j()(r,2),i=a[0],o=a[1],u=t.title,l=t.author,p=t.num_comments,f=t.points,d=t.url,m=t.created_at,g=t.objectID,h=d?d.split("/"):"";return Object(c.useEffect)((function(){n=JSON.parse(localStorage.getItem("hiddenNewsIds"))||[],o(!n.includes(g))}),[i]),s.a.createElement(s.a.Fragment,null,i&&s.a.createElement(T,null,s.a.createElement(C,null,p),s.a.createElement("p",null,f," ",s.a.createElement(k,null,"ðŸ¢‘")),s.a.createElement("p",null,s.a.createElement("span",null,u),s.a.createElement(q,null,"( ",h[2]," )"),s.a.createElement(q,null," by"),s.a.createElement("span",null," ",l),s.a.createElement(q,null," ",function(){var e=(new Date).getTime(),t=Math.round(e-new Date(m).getTime())/1e3;t/=3600;var n=Math.abs(Math.round(t));return n<=0?"less than an hour ago ":"".concat(n," hours ago")}()),s.a.createElement(L,{onClick:function(){n.push(g),localStorage.setItem("hiddenNewsIds",JSON.stringify(n)),o(!1)}},"[ Hide ]"))))},P=m.a.section.withConfig({displayName:"List__ListContainer"})(["padding-top:25px;background:#f6f6ef;"]),I={fetchNews:function(e){return{type:"NEWS_FETCH_REQUESTED",payload:{pageNumber:e}}}},H=Object(N.connect)((function(e){return{hits:e.hits,pageNumber:e.pageNumber}}),I)((function(e){var t=e.hits,n=e.pageNumber,r=e.fetchNews;return s.a.createElement(P,null,!t&&s.a.createElement("p",null,"Loading ..."),t&&t.map((function(e,t){return s.a.createElement(D,{data:e,key:t})})),s.a.createElement("button",{onClick:function(){r(n+1)}},"Load More"))}));function W(){var e=y()(["\n  ","\n  @media screen and ( min-width :1025px){\n\t.main-container{\n\t  max-width:1200px;\n\t  margin:0 auto;\n  \t}\n  }\n  /* other styles */\n"]);return W=function(){return e},e}var F=Object(d.createGlobalStyle)(W(),E.a),A=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(F,null),s.a.createElement("main",{id:"main",className:"main-container"},s.a.createElement(O,null),s.a.createElement(H,null)))},M=n(8),U=n.n(M),z=n(14),R=n.n(z);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={hits:[],pageNumber:1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEWS_FETCH_SUCCEEDED":var n=t.payload.hits;return B(B({},e),{},{hits:[].concat(U()(e.hits),U()(n)),pageNumber:e.pageNumber+1});case"NEWS_FETCH_FAILED":return console.log(t),e;default:return e}},V=n(3),Y=a.a.mark(Z),K=a.a.mark($),X=function(){var e=o()(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://hn.algolia.com/api/v1/search_by_date?tags=story&page=".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Z(e){var t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(V.call)(X,[e.payload.pageNumber]);case 3:return t=r.sent,n=t.hits,r.next=7,Object(V.put)({type:"NEWS_FETCH_SUCCEEDED",payload:{hits:n}});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(V.put)({type:"NEWS_FETCH_FAILED",message:r.t0.message});case 13:case"end":return r.stop()}}),Y,null,[[0,9]])}function $(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.takeLatest)("NEWS_FETCH_REQUESTED",Z);case 2:case"end":return e.stop()}}),K)}var ee=$,te=n(7),ne=n(15),re=n.n(ne),ae=new d.ServerStyleSheet,ie=process.env.PORT||3006,oe=l()();function ce(e,t,n){return"\n\t  <!doctype html>\n\t  <html lang='en'>\n\t\t<head>\n\t\t  <title>Hacker News</title>\n\t\t  ".concat(n,'\n\t\t  <link rel="manifest" href="static/manifest.json">\n\t\t  <meta name="theme-color" content="#ff6600"/>\n\t\t  <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n\t\t  <meta name="description" content="A Hacker news aggregator website"/>\n\t\t</head>\n\t\t<body>\n\t\t  <div id="container">').concat(e,"</div>\n\t\t  <script>\n\t\t\t// WARNING: See the following for security issues around embedding JSON in HTML:\n\t\t\t// https://redux.js.org/recipes/server-rendering/#security-considerations\n\t\t\twindow.__PRELOADED_STATE__ = ").concat(JSON.stringify(t).replace(/</g,"\\u003c"),"\n\t\t  <\/script>\n\t\t  <script src=\"main.js\"><\/script>\n\t\t  <script>\n\t\t\tif ('serviceWorker' in navigator) {\n\t\t\t\twindow.addEventListener('load', function() {\n\t\t\t\tnavigator.serviceWorker.register('/sw.js').then(function(registration) {\n\t\t\t\t\tconsole.log('ServiceWorker registration successful with scope: ', registration.scope);\n\t\t\t\t}, function(err) {\n\t\t\t\t\tconsole.log('ServiceWorker registration failed: ', err);\n\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\t<\/script>\n\t\t</body>\n\t  </html>\n\t  ")}oe.use(h()()),oe.get("*.js",(function(e,t,n){e.header("Accept-Encoding").includes("br")&&(e.url=e.url+".br",console.log(e.header("Accept-Encoding")),t.set("Content-Encoding","br"),t.set("Content-Type","application/javascript; charset=UTF-8")),n()})),oe.use(l.a.static("./dist")),oe.use("/static",l.a.static("./static")),oe.get("/*",(function(e,t){var n={hits:[],pageNumber:1};o()(a.a.mark((function e(){var r,i,o,c,u,l,p,d,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://hn.algolia.com/api/v1/search_by_date?tags=story&page=".concat(n.pageNumber));case 2:return r=e.sent,e.next=5,r.json();case 5:return i=e.sent,e.next=8,i;case 8:o=e.sent,c=o.hits,n.hits=c,u=re()(),l=Object(te.createStore)(Q,n,Object(te.compose)(Object(te.applyMiddleware)(u))),u.run(ee),p=f.a.renderToNodeStream(ae.collectStyles(s.a.createElement(N.Provider,{store:l},s.a.createElement(A,null)))),d=ae.getStyleTags(),m=l.getState(),t.send(ce(p,m,d));case 18:case"end":return e.stop()}}),e)})))()})),oe.listen(ie,(function(){console.log("Server is listening on port ".concat(ie))}))}]);